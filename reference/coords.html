<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Coordinate based cleaning — coords • rOpenSci: scrubr</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>


<!-- Bootstrap -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>

<!-- ropensci -->
<link href="../ropensci.css" rel="stylesheet">

<meta property="og:title" content="Coordinate based cleaning — coords" />
<meta property="og:description" content="Coordinate based cleaning" />
<meta name="twitter:card" content="summary" />






<!-- Matomo -->
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css" />
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script>
<script src="https://ropensci.org/scripts/matomo.js"></script>
<noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt="" /></p></noscript>

<!-- End Matomo Code -->

  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a href="https://ropensci.org"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci" /></a>
        <a class="navbar-brand" href="../index.html"><i>scrubr <small>v0.4.0</small></i></a>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/scrubr.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
        <li>
  <a href="https://github.com/ropensci/scrubr/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right docsearch" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Coordinate based cleaning</h1>
    <small class="dont-index">Source: <a href='https://github.com/ropensci/scrubr/blob/master/R/coord-funs.R'><code>R/coord-funs.R</code></a></small>
    <div class="hidden name"><code>coords.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Coordinate based cleaning</p>
    </div>

    <pre class="usage"><span class='fu'>coord_incomplete</span><span class='op'>(</span><span class='va'>x</span>, lat <span class='op'>=</span> <span class='cn'>NULL</span>, lon <span class='op'>=</span> <span class='cn'>NULL</span>, drop <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='fu'>coord_imprecise</span><span class='op'>(</span><span class='va'>x</span>, which <span class='op'>=</span> <span class='st'>"both"</span>, lat <span class='op'>=</span> <span class='cn'>NULL</span>, lon <span class='op'>=</span> <span class='cn'>NULL</span>, drop <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='fu'>coord_impossible</span><span class='op'>(</span><span class='va'>x</span>, lat <span class='op'>=</span> <span class='cn'>NULL</span>, lon <span class='op'>=</span> <span class='cn'>NULL</span>, drop <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='fu'>coord_unlikely</span><span class='op'>(</span><span class='va'>x</span>, lat <span class='op'>=</span> <span class='cn'>NULL</span>, lon <span class='op'>=</span> <span class='cn'>NULL</span>, drop <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='fu'>coord_within</span><span class='op'>(</span>
  <span class='va'>x</span>,
  field <span class='op'>=</span> <span class='cn'>NULL</span>,
  country <span class='op'>=</span> <span class='cn'>NULL</span>,
  lat <span class='op'>=</span> <span class='cn'>NULL</span>,
  lon <span class='op'>=</span> <span class='cn'>NULL</span>,
  drop <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span>

<span class='fu'>coord_pol_centroids</span><span class='op'>(</span><span class='va'>x</span>, lat <span class='op'>=</span> <span class='cn'>NULL</span>, lon <span class='op'>=</span> <span class='cn'>NULL</span>, drop <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='fu'>coord_uncertain</span><span class='op'>(</span>
  <span class='va'>x</span>,
  coorduncertainityLimit <span class='op'>=</span> <span class='fl'>30000</span>,
  drop <span class='op'>=</span> <span class='cn'>TRUE</span>,
  ignore.na <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>(data.frame) A data.frame</p></td>
    </tr>
    <tr>
      <th>lat, lon</th>
      <td><p>(character) Latitude and longitude column to use. See Details.</p></td>
    </tr>
    <tr>
      <th>drop</th>
      <td><p>(logical) Drop bad data points or not. Either way, we parse out
bad data points as an attribute you can access. Default: <code>TRUE</code></p></td>
    </tr>
    <tr>
      <th>which</th>
      <td><p>(character) one of "has_dec", "no_zeros", or "both" (default)</p></td>
    </tr>
    <tr>
      <th>field</th>
      <td><p>(character) Name of field in input data.frame x with country
names</p></td>
    </tr>
    <tr>
      <th>country</th>
      <td><p>(character) A single country name</p></td>
    </tr>
    <tr>
      <th>coorduncertainityLimit</th>
      <td><p>(numeric) numeric threshold for the
coordinateUncertainityInMeters variable. Default: 30000</p></td>
    </tr>
    <tr>
      <th>ignore.na</th>
      <td><p>(logical) To consider NA values as a bad point or not.
Default: <code>FALSE</code></p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Returns a data.frame, with attributes</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Explanation of the functions:</p><ul>
<li><p>coord_impossible - Impossible coordinates</p></li>
<li><p>coord_incomplete - Incomplete coordinates</p></li>
<li><p>coord_imprecise - Imprecise coordinates</p></li>
<li><p>coord_pol_centroids - Points at political centroids</p></li>
<li><p>coord_unlikely - Unlikely coordinates</p></li>
<li><p>coord_within - Filter points within user input
political boundaries</p></li>
<li><p>coord_uncertain - Uncertain occurrances of measured through
coordinateUncertaintyInMeters default limit= 30000</p></li>
</ul>

<p>If either lat or lon (or both) given, we assign the given column name
to be standardized names of "latitude", and "longitude". If not given, we
attempt to guess what the lat and lon column names are and assign the
same standardized names. Assigning the same standardized names makes
downstream processing easier so that we're dealing with consistent column
names. On returning the data, we return the original names.</p>
<p>For <code>coord_within</code>, we use <code>countriesLow</code> dataset from the
<span class="pkg">rworldmap</span> package to get country borders.</p>
    <h2 class="hasAnchor" id="coord-pol-centroids"><a class="anchor" href="#coord-pol-centroids"></a>coord_pol_centroids</h2>

    

<p>Right now, this function only deals with city centroids, using the
<a href='https://rdrr.io/pkg/maps/man/world.cities.html'>maps::world.cities</a> dataset of more than 40,000 cities.
We'll work on adding country centroids, and perhaps others (e.g.,
counties, states, provinces, parks, etc.).</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>df</span> <span class='op'>&lt;-</span> <span class='va'>sample_data_1</span>

<span class='co'># Remove impossible coordinates</span>
<span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>NROW</a></span><span class='op'>(</span><span class='va'>df</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 1500</div><div class='input'><span class='va'>df</span><span class='op'>[</span><span class='fl'>1</span>, <span class='st'>"latitude"</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fl'>170</span>
<span class='va'>df</span> <span class='op'>&lt;-</span> <span class='fu'><a href='dframe.html'>dframe</a></span><span class='op'>(</span><span class='va'>df</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'>coord_impossible</span><span class='op'>(</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>Assuming 'latitude' is latitude</span></div><div class='output co'>#&gt; <span class='message'>Assuming 'longitude' is longitude</span></div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>NROW</a></span><span class='op'>(</span><span class='va'>df</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 1499</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/attr.html'>attr</a></span><span class='op'>(</span><span class='va'>df</span>, <span class='st'>"coord_impossible"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 1 x 5</span>
#&gt;   name             longitude latitude date                       key
#&gt;   <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>                <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>    <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dttm&gt;</span>                   <span style='color: #949494; font-style: italic;'>&lt;int&gt;</span>
#&gt; <span style='color: #BCBCBC;'>1</span> Ursus americanus     -<span style='color: #BB0000;'>79.7</span>      170 2015-01-14 <span style='color: #949494;'>16:36:45</span> <span style='text-decoration: underline;'>1</span>065<span style='text-decoration: underline;'>590</span>124</div><div class='input'>
<span class='co'># Remove incomplete cases</span>
<span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>NROW</a></span><span class='op'>(</span><span class='va'>df</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 1499</div><div class='input'><span class='va'>df_inc</span> <span class='op'>&lt;-</span> <span class='fu'><a href='dframe.html'>dframe</a></span><span class='op'>(</span><span class='va'>df</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'>coord_incomplete</span><span class='op'>(</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>NROW</a></span><span class='op'>(</span><span class='va'>df_inc</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 1305</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/attr.html'>attr</a></span><span class='op'>(</span><span class='va'>df_inc</span>, <span class='st'>"coord_incomplete"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 194 x 5</span>
#&gt;    name  longitude latitude date                  key
#&gt;    <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>     <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>    <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dttm&gt;</span>              <span style='color: #949494; font-style: italic;'>&lt;int&gt;</span>
#&gt; <span style='color: #BCBCBC;'> 1</span> <span style='color: #BB0000;'>NA</span>           <span style='color: #BB0000;'>NA</span>       <span style='color: #BB0000;'>NA</span> <span style='color: #BB0000;'>NA</span>                     <span style='color: #BB0000;'>NA</span>
#&gt; <span style='color: #BCBCBC;'> 2</span> <span style='color: #BB0000;'>NA</span>           <span style='color: #BB0000;'>NA</span>       <span style='color: #BB0000;'>NA</span> <span style='color: #BB0000;'>NA</span>                     <span style='color: #BB0000;'>NA</span>
#&gt; <span style='color: #BCBCBC;'> 3</span> <span style='color: #BB0000;'>NA</span>           <span style='color: #BB0000;'>NA</span>       <span style='color: #BB0000;'>NA</span> <span style='color: #BB0000;'>NA</span>                     <span style='color: #BB0000;'>NA</span>
#&gt; <span style='color: #BCBCBC;'> 4</span> <span style='color: #BB0000;'>NA</span>           <span style='color: #BB0000;'>NA</span>       <span style='color: #BB0000;'>NA</span> <span style='color: #BB0000;'>NA</span>                     <span style='color: #BB0000;'>NA</span>
#&gt; <span style='color: #BCBCBC;'> 5</span> <span style='color: #BB0000;'>NA</span>           <span style='color: #BB0000;'>NA</span>       <span style='color: #BB0000;'>NA</span> <span style='color: #BB0000;'>NA</span>                     <span style='color: #BB0000;'>NA</span>
#&gt; <span style='color: #BCBCBC;'> 6</span> <span style='color: #BB0000;'>NA</span>           <span style='color: #BB0000;'>NA</span>       <span style='color: #BB0000;'>NA</span> <span style='color: #BB0000;'>NA</span>                     <span style='color: #BB0000;'>NA</span>
#&gt; <span style='color: #BCBCBC;'> 7</span> <span style='color: #BB0000;'>NA</span>           <span style='color: #BB0000;'>NA</span>       <span style='color: #BB0000;'>NA</span> <span style='color: #BB0000;'>NA</span>                     <span style='color: #BB0000;'>NA</span>
#&gt; <span style='color: #BCBCBC;'> 8</span> <span style='color: #BB0000;'>NA</span>           <span style='color: #BB0000;'>NA</span>       <span style='color: #BB0000;'>NA</span> <span style='color: #BB0000;'>NA</span>                     <span style='color: #BB0000;'>NA</span>
#&gt; <span style='color: #BCBCBC;'> 9</span> <span style='color: #BB0000;'>NA</span>           <span style='color: #BB0000;'>NA</span>       <span style='color: #BB0000;'>NA</span> <span style='color: #BB0000;'>NA</span>                     <span style='color: #BB0000;'>NA</span>
#&gt; <span style='color: #BCBCBC;'>10</span> <span style='color: #BB0000;'>NA</span>           <span style='color: #BB0000;'>NA</span>       <span style='color: #BB0000;'>NA</span> <span style='color: #BB0000;'>NA</span>                     <span style='color: #BB0000;'>NA</span>
#&gt; <span style='color: #949494;'># … with 184 more rows</span></div><div class='input'>

<span class='co'># Remove imprecise cases</span>
<span class='va'>df</span> <span class='op'>&lt;-</span> <span class='va'>sample_data_5</span>
<span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>NROW</a></span><span class='op'>(</span><span class='va'>df</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 39</div><div class='input'><span class='co'>## remove records that don't have decimals at all</span>
<span class='va'>df_imp</span> <span class='op'>&lt;-</span> <span class='fu'><a href='dframe.html'>dframe</a></span><span class='op'>(</span><span class='va'>df</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'>coord_imprecise</span><span class='op'>(</span>which <span class='op'>=</span> <span class='st'>"has_dec"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>Assuming 'latitude' is latitude</span></div><div class='output co'>#&gt; <span class='message'>Assuming 'longitude' is longitude</span></div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>NROW</a></span><span class='op'>(</span><span class='va'>df_imp</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 33</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/attr.html'>attr</a></span><span class='op'>(</span><span class='va'>df_imp</span>, <span class='st'>"coord_imprecise"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 6 x 5</span>
#&gt;   name             longitude  latitude date                        key
#&gt;   <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>            <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>      <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>    <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>                     <span style='color: #949494; font-style: italic;'>&lt;int&gt;</span>
#&gt; <span style='color: #BCBCBC;'>1</span> Ursus americanus -123.829   40       2015-03-28T23:00:00Z <span style='text-decoration: underline;'>1</span>132<span style='text-decoration: underline;'>403</span>409
#&gt; <span style='color: #BCBCBC;'>2</span> Ursus americanus -103.32315 29       2015-05-23T20:11:29Z <span style='text-decoration: underline;'>1</span>092<span style='text-decoration: underline;'>907</span>160
#&gt; <span style='color: #BCBCBC;'>3</span> Ursus americanus -110       44.59889 2015-05-02T22:00:00Z <span style='text-decoration: underline;'>1</span>092<span style='text-decoration: underline;'>897</span>387
#&gt; <span style='color: #BCBCBC;'>4</span> Ursus americanus -109       31       2015-05-29T15:02:01Z <span style='text-decoration: underline;'>1</span>098<span style='text-decoration: underline;'>900</span>981
#&gt; <span style='color: #BCBCBC;'>5</span> Ursus americanus -92.29988  49       2015-05-16T16:27:20Z <span style='text-decoration: underline;'>1</span>132<span style='text-decoration: underline;'>401</span>463
#&gt; <span style='color: #BCBCBC;'>6</span> Ursus americanus -110.0     44       2015-05-10T18:05:40Z <span style='text-decoration: underline;'>1</span>088<span style='text-decoration: underline;'>979</span>156</div><div class='input'><span class='co'>## remove records that have all zeros</span>
<span class='va'>df_imp</span> <span class='op'>&lt;-</span> <span class='fu'><a href='dframe.html'>dframe</a></span><span class='op'>(</span><span class='va'>df</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'>coord_imprecise</span><span class='op'>(</span>which <span class='op'>=</span> <span class='st'>"no_zeros"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>Assuming 'latitude' is latitude</span></div><div class='output co'>#&gt; <span class='message'>Assuming 'longitude' is longitude</span></div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>NROW</a></span><span class='op'>(</span><span class='va'>df_imp</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 28</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/attr.html'>attr</a></span><span class='op'>(</span><span class='va'>df_imp</span>, <span class='st'>"coord_imprecise"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 11 x 5</span>
#&gt;    name             longitude latitude date                        key
#&gt;    <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>            <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>     <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>    <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>                     <span style='color: #949494; font-style: italic;'>&lt;int&gt;</span>
#&gt; <span style='color: #BCBCBC;'> 1</span> Ursus americanus -78.25027 36.0000  2015-03-20T21:11:24Z <span style='text-decoration: underline;'>1</span>088<span style='text-decoration: underline;'>923</span>534
#&gt; <span style='color: #BCBCBC;'> 2</span> Ursus americanus -72.18191 44.0000  2015-04-16T16:16:30Z <span style='text-decoration: underline;'>1</span>088<span style='text-decoration: underline;'>950</span>245
#&gt; <span style='color: #BCBCBC;'> 3</span> Ursus americanus -100.0000 25.6065  2015-04-06T22:00:00Z <span style='text-decoration: underline;'>1</span>099<span style='text-decoration: underline;'>969</span>743
#&gt; <span style='color: #BCBCBC;'> 4</span> Ursus americanus -115.0000 51.22819 2015-05-14T01:15:34Z <span style='text-decoration: underline;'>1</span>092<span style='text-decoration: underline;'>879</span>993
#&gt; <span style='color: #BCBCBC;'> 5</span> Ursus americanus -110.0000 31.87244 2015-05-08T16:49:41Z <span style='text-decoration: underline;'>1</span>099<span style='text-decoration: underline;'>958</span>687
#&gt; <span style='color: #BCBCBC;'> 6</span> Ursus americanus -72.0000  43.80838 2015-05-27T11:09:14Z <span style='text-decoration: underline;'>1</span>092<span style='text-decoration: underline;'>905</span>944
#&gt; <span style='color: #BCBCBC;'> 7</span> Ursus americanus -102.00   28.57147 2015-05-05T22:00:00Z <span style='text-decoration: underline;'>1</span>088<span style='text-decoration: underline;'>972</span>152
#&gt; <span style='color: #BCBCBC;'> 8</span> Ursus americanus -103.0    29.26837 2015-05-23T20:43:13Z <span style='text-decoration: underline;'>1</span>092<span style='text-decoration: underline;'>907</span>155
#&gt; <span style='color: #BCBCBC;'> 9</span> Ursus americanus -81.0     46.03828 2015-05-29T21:23:21Z <span style='text-decoration: underline;'>1</span>099<span style='text-decoration: underline;'>959</span>710
#&gt; <span style='color: #BCBCBC;'>10</span> Ursus americanus -81.30308 46.0     2015-05-21T21:21:25Z <span style='text-decoration: underline;'>1</span>092<span style='text-decoration: underline;'>890</span>386
#&gt; <span style='color: #BCBCBC;'>11</span> Ursus americanus -110.0    44       2015-05-10T18:05:40Z <span style='text-decoration: underline;'>1</span>088<span style='text-decoration: underline;'>979</span>156</div><div class='input'><span class='co'>## remove both records that don't have decimals at all and those that</span>
<span class='co'>## have all zeros</span>
<span class='va'>df_imp</span> <span class='op'>&lt;-</span> <span class='fu'><a href='dframe.html'>dframe</a></span><span class='op'>(</span><span class='va'>df</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'>coord_imprecise</span><span class='op'>(</span>which <span class='op'>=</span> <span class='st'>"both"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>Assuming 'latitude' is latitude</span></div><div class='output co'>#&gt; <span class='message'>Assuming 'longitude' is longitude</span></div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>NROW</a></span><span class='op'>(</span><span class='va'>df_imp</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 23</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/attr.html'>attr</a></span><span class='op'>(</span><span class='va'>df_imp</span>, <span class='st'>"coord_imprecise"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 16 x 5</span>
#&gt;    name             longitude  latitude date                        key
#&gt;    <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>            <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>      <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>    <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>                     <span style='color: #949494; font-style: italic;'>&lt;int&gt;</span>
#&gt; <span style='color: #BCBCBC;'> 1</span> Ursus americanus -123.829   40       2015-03-28T23:00:00Z <span style='text-decoration: underline;'>1</span>132<span style='text-decoration: underline;'>403</span>409
#&gt; <span style='color: #BCBCBC;'> 2</span> Ursus americanus -103.32315 29       2015-05-23T20:11:29Z <span style='text-decoration: underline;'>1</span>092<span style='text-decoration: underline;'>907</span>160
#&gt; <span style='color: #BCBCBC;'> 3</span> Ursus americanus -110       44.59889 2015-05-02T22:00:00Z <span style='text-decoration: underline;'>1</span>092<span style='text-decoration: underline;'>897</span>387
#&gt; <span style='color: #BCBCBC;'> 4</span> Ursus americanus -109       31       2015-05-29T15:02:01Z <span style='text-decoration: underline;'>1</span>098<span style='text-decoration: underline;'>900</span>981
#&gt; <span style='color: #BCBCBC;'> 5</span> Ursus americanus -92.29988  49       2015-05-16T16:27:20Z <span style='text-decoration: underline;'>1</span>132<span style='text-decoration: underline;'>401</span>463
#&gt; <span style='color: #BCBCBC;'> 6</span> Ursus americanus -110.0     44       2015-05-10T18:05:40Z <span style='text-decoration: underline;'>1</span>088<span style='text-decoration: underline;'>979</span>156
#&gt; <span style='color: #BCBCBC;'> 7</span> Ursus americanus -78.25027  36.0000  2015-03-20T21:11:24Z <span style='text-decoration: underline;'>1</span>088<span style='text-decoration: underline;'>923</span>534
#&gt; <span style='color: #BCBCBC;'> 8</span> Ursus americanus -72.18191  44.0000  2015-04-16T16:16:30Z <span style='text-decoration: underline;'>1</span>088<span style='text-decoration: underline;'>950</span>245
#&gt; <span style='color: #BCBCBC;'> 9</span> Ursus americanus -100.0000  25.6065  2015-04-06T22:00:00Z <span style='text-decoration: underline;'>1</span>099<span style='text-decoration: underline;'>969</span>743
#&gt; <span style='color: #BCBCBC;'>10</span> Ursus americanus -115.0000  51.22819 2015-05-14T01:15:34Z <span style='text-decoration: underline;'>1</span>092<span style='text-decoration: underline;'>879</span>993
#&gt; <span style='color: #BCBCBC;'>11</span> Ursus americanus -110.0000  31.87244 2015-05-08T16:49:41Z <span style='text-decoration: underline;'>1</span>099<span style='text-decoration: underline;'>958</span>687
#&gt; <span style='color: #BCBCBC;'>12</span> Ursus americanus -72.0000   43.80838 2015-05-27T11:09:14Z <span style='text-decoration: underline;'>1</span>092<span style='text-decoration: underline;'>905</span>944
#&gt; <span style='color: #BCBCBC;'>13</span> Ursus americanus -102.00    28.57147 2015-05-05T22:00:00Z <span style='text-decoration: underline;'>1</span>088<span style='text-decoration: underline;'>972</span>152
#&gt; <span style='color: #BCBCBC;'>14</span> Ursus americanus -103.0     29.26837 2015-05-23T20:43:13Z <span style='text-decoration: underline;'>1</span>092<span style='text-decoration: underline;'>907</span>155
#&gt; <span style='color: #BCBCBC;'>15</span> Ursus americanus -81.0      46.03828 2015-05-29T21:23:21Z <span style='text-decoration: underline;'>1</span>099<span style='text-decoration: underline;'>959</span>710
#&gt; <span style='color: #BCBCBC;'>16</span> Ursus americanus -81.30308  46.0     2015-05-21T21:21:25Z <span style='text-decoration: underline;'>1</span>092<span style='text-decoration: underline;'>890</span>386</div><div class='input'>

<span class='co'># Remove unlikely points</span>
<span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>NROW</a></span><span class='op'>(</span><span class='va'>df</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 39</div><div class='input'><span class='va'>df_unlikely</span> <span class='op'>&lt;-</span> <span class='fu'><a href='dframe.html'>dframe</a></span><span class='op'>(</span><span class='va'>df</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'>coord_unlikely</span><span class='op'>(</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>Assuming 'latitude' is latitude</span></div><div class='output co'>#&gt; <span class='message'>Assuming 'longitude' is longitude</span></div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>NROW</a></span><span class='op'>(</span><span class='va'>df_unlikely</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 39</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/attr.html'>attr</a></span><span class='op'>(</span><span class='va'>df_unlikely</span>, <span class='st'>"coord_unlikely"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] NA</div><div class='input'>
<span class='co'># Remove points not within correct political borders</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/ns-load.html'>requireNamespace</a></span><span class='op'>(</span><span class='st'>"rgbif"</span>, quietly <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span> <span class='op'>&amp;&amp;</span> <span class='fu'><a href='https://rdrr.io/r/base/interactive.html'>interactive</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>
   <span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='st'><a href='https://docs.ropensci.org/rgbif'>"rgbif"</a></span><span class='op'>)</span>
   <span class='va'>wkt</span> <span class='op'>&lt;-</span> <span class='st'>'POLYGON((30.1 10.1,40 40,20 40,10 20,30.1 10.1))'</span>
   <span class='va'>res</span> <span class='op'>&lt;-</span> <span class='fu'>rgbif</span><span class='fu'>::</span><span class='fu'><a href='https://docs.ropensci.org/rgbif/reference/occ_data.html'>occ_data</a></span><span class='op'>(</span>geometry <span class='op'>=</span> <span class='va'>wkt</span>, limit<span class='op'>=</span><span class='fl'>300</span><span class='op'>)</span><span class='op'>$</span><span class='va'>data</span>
<span class='op'>}</span> <span class='kw'>else</span> <span class='op'>{</span>
   <span class='va'>res</span> <span class='op'>&lt;-</span> <span class='va'>sample_data_4</span>
<span class='op'>}</span>

<span class='co'>## By specific country name</span>
<span class='kw'>if</span> <span class='op'>(</span>
  <span class='fu'><a href='https://rdrr.io/r/base/interactive.html'>interactive</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>&amp;&amp;</span>
  <span class='fu'><a href='https://rdrr.io/r/base/ns-load.html'>requireNamespace</a></span><span class='op'>(</span><span class='st'>"sf"</span>, quietly<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span> <span class='op'>&amp;&amp;</span> 
  <span class='fu'><a href='https://rdrr.io/r/base/ns-load.html'>requireNamespace</a></span><span class='op'>(</span><span class='st'>"s2"</span>, quietly<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span> <span class='op'>&amp;&amp;</span> 
  <span class='fu'><a href='https://rdrr.io/r/base/ns-load.html'>requireNamespace</a></span><span class='op'>(</span><span class='st'>"rworldmap"</span>, quietly<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>
<span class='op'>)</span> <span class='op'>{</span>
<span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>NROW</a></span><span class='op'>(</span><span class='va'>res</span><span class='op'>)</span>
<span class='va'>df_within</span> <span class='op'>&lt;-</span> <span class='fu'><a href='dframe.html'>dframe</a></span><span class='op'>(</span><span class='va'>res</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'>coord_within</span><span class='op'>(</span>country <span class='op'>=</span> <span class='st'>"Israel"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>NROW</a></span><span class='op'>(</span><span class='va'>df_within</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/attr.html'>attr</a></span><span class='op'>(</span><span class='va'>df_within</span>, <span class='st'>"coord_within"</span><span class='op'>)</span>

<span class='co'>## By a field in your data - makes sure your points occur in one</span>
<span class='co'>## of those countries</span>
<span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>NROW</a></span><span class='op'>(</span><span class='va'>res</span><span class='op'>)</span>
<span class='va'>df_within</span> <span class='op'>&lt;-</span> <span class='fu'><a href='dframe.html'>dframe</a></span><span class='op'>(</span><span class='va'>res</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'>coord_within</span><span class='op'>(</span>field <span class='op'>=</span> <span class='st'>"country"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>NROW</a></span><span class='op'>(</span><span class='va'>df_within</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>df_within</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/attr.html'>attr</a></span><span class='op'>(</span><span class='va'>df_within</span>, <span class='st'>"coord_within"</span><span class='op'>)</span>
<span class='op'>}</span>

<span class='co'># Remove those very near political centroids</span>
<span class='co'>## not ready yet</span>
<span class='co'># NROW(df)</span>
<span class='co'># df_polcent &lt;- dframe(df) %&gt;% coord_pol_centroids()</span>
<span class='co'># NROW(df_polcent)</span>
<span class='co'># attr(df_polcent, "coord_polcent")</span>

<span class='co'>## lat/long column names can vary</span>
<span class='va'>df</span> <span class='op'>&lt;-</span> <span class='va'>sample_data_1</span>
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>df</span><span class='op'>)</span>
</div><div class='output co'>#&gt;               name  longitude latitude                date        key
#&gt; 1 Ursus americanus  -79.68283 38.36662 2015-01-14 16:36:45 1065590124
#&gt; 2 Ursus americanus  -82.42028 35.73304 2015-01-13 00:25:39 1065588899
#&gt; 3 Ursus americanus  -99.09625 23.66893 2015-02-20 23:00:00 1098894889
#&gt; 4 Ursus americanus  -72.77432 43.94883 2015-02-13 16:16:41 1065611122
#&gt; 5 Ursus americanus  -72.34617 43.86464 2015-03-01 20:20:45 1088908315
#&gt; 6 Ursus americanus -108.53674 32.65219 2015-03-29 17:06:54 1088932238</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>df</span><span class='op'>)</span><span class='op'>[</span><span class='fl'>2</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'mylon'</span>, <span class='st'>'mylat'</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>df</span><span class='op'>)</span>
</div><div class='output co'>#&gt;               name      mylon    mylat                date        key
#&gt; 1 Ursus americanus  -79.68283 38.36662 2015-01-14 16:36:45 1065590124
#&gt; 2 Ursus americanus  -82.42028 35.73304 2015-01-13 00:25:39 1065588899
#&gt; 3 Ursus americanus  -99.09625 23.66893 2015-02-20 23:00:00 1098894889
#&gt; 4 Ursus americanus  -72.77432 43.94883 2015-02-13 16:16:41 1065611122
#&gt; 5 Ursus americanus  -72.34617 43.86464 2015-03-01 20:20:45 1088908315
#&gt; 6 Ursus americanus -108.53674 32.65219 2015-03-29 17:06:54 1088932238</div><div class='input'><span class='va'>df</span><span class='op'>[</span><span class='fl'>1</span>, <span class='st'>"mylat"</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fl'>170</span>
<span class='fu'><a href='dframe.html'>dframe</a></span><span class='op'>(</span><span class='va'>df</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'>coord_impossible</span><span class='op'>(</span>lat <span class='op'>=</span> <span class='st'>"mylat"</span>, lon <span class='op'>=</span> <span class='st'>"mylon"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 1,499 x 5</span>
#&gt;    name              mylon mylat date                       key
#&gt;  <span style='color: #BCBCBC;'>*</span> <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>             <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dttm&gt;</span>                   <span style='color: #949494; font-style: italic;'>&lt;int&gt;</span>
#&gt; <span style='color: #BCBCBC;'> 1</span> Ursus americanus  -<span style='color: #BB0000;'>82.4</span>  35.7 2015-01-13 <span style='color: #949494;'>00:25:39</span> <span style='text-decoration: underline;'>1</span>065<span style='text-decoration: underline;'>588</span>899
#&gt; <span style='color: #BCBCBC;'> 2</span> Ursus americanus  -<span style='color: #BB0000;'>99.1</span>  23.7 2015-02-20 <span style='color: #949494;'>23:00:00</span> <span style='text-decoration: underline;'>1</span>098<span style='text-decoration: underline;'>894</span>889
#&gt; <span style='color: #BCBCBC;'> 3</span> Ursus americanus  -<span style='color: #BB0000;'>72.8</span>  43.9 2015-02-13 <span style='color: #949494;'>16:16:41</span> <span style='text-decoration: underline;'>1</span>065<span style='text-decoration: underline;'>611</span>122
#&gt; <span style='color: #BCBCBC;'> 4</span> Ursus americanus  -<span style='color: #BB0000;'>72.3</span>  43.9 2015-03-01 <span style='color: #949494;'>20:20:45</span> <span style='text-decoration: underline;'>1</span>088<span style='text-decoration: underline;'>908</span>315
#&gt; <span style='color: #BCBCBC;'> 5</span> Ursus americanus -<span style='color: #BB0000;'>109.</span>   32.7 2015-03-29 <span style='color: #949494;'>17:06:54</span> <span style='text-decoration: underline;'>1</span>088<span style='text-decoration: underline;'>932</span>238
#&gt; <span style='color: #BCBCBC;'> 6</span> Ursus americanus -<span style='color: #BB0000;'>109.</span>   32.7 2015-03-29 <span style='color: #949494;'>17:12:50</span> <span style='text-decoration: underline;'>1</span>088<span style='text-decoration: underline;'>932</span>273
#&gt; <span style='color: #BCBCBC;'> 7</span> Ursus americanus -<span style='color: #BB0000;'>124.</span>   40.1 2015-03-28 <span style='color: #949494;'>23:00:00</span> <span style='text-decoration: underline;'>1</span>132<span style='text-decoration: underline;'>403</span>409
#&gt; <span style='color: #BCBCBC;'> 8</span> Ursus americanus  -<span style='color: #BB0000;'>78.3</span>  36.9 2015-03-20 <span style='color: #949494;'>21:11:24</span> <span style='text-decoration: underline;'>1</span>088<span style='text-decoration: underline;'>923</span>534
#&gt; <span style='color: #BCBCBC;'> 9</span> Ursus americanus  -<span style='color: #BB0000;'>76.8</span>  35.5 2015-04-05 <span style='color: #949494;'>23:00:00</span> <span style='text-decoration: underline;'>1</span>088<span style='text-decoration: underline;'>954</span>559
#&gt; <span style='color: #BCBCBC;'>10</span> Ursus americanus -<span style='color: #BB0000;'>103.</span>   29.3 2015-04-29 <span style='color: #949494;'>22:00:00</span> <span style='text-decoration: underline;'>1</span>088<span style='text-decoration: underline;'>964</span>797
#&gt; <span style='color: #949494;'># … with 1,489 more rows</span></div><div class='input'>
<span class='va'>df</span> <span class='op'>&lt;-</span> <span class='va'>sample_data_6</span>

<span class='co'># Remove uncertain occurances</span>

<span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>NROW</a></span><span class='op'>(</span><span class='va'>df</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 50</div><div class='input'><span class='va'>df1</span><span class='op'>&lt;-</span><span class='va'>df</span> <span class='op'>%&gt;%</span> <span class='fu'>coord_uncertain</span><span class='op'>(</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>NROW</a></span><span class='op'>(</span><span class='va'>df1</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 38</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/attr.html'>attr</a></span><span class='op'>(</span><span class='va'>df</span>, <span class='st'>"coord_uncertain"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; NULL</div><div class='input'>
<span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>NROW</a></span><span class='op'>(</span><span class='va'>df</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 50</div><div class='input'><span class='va'>df2</span><span class='op'>&lt;-</span><span class='va'>df</span> <span class='op'>%&gt;%</span> <span class='fu'>coord_uncertain</span><span class='op'>(</span>coorduncertainityLimit <span class='op'>=</span> <span class='fl'>20000</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>NROW</a></span><span class='op'>(</span><span class='va'>df2</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 38</div><div class='input'>
<span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>NROW</a></span><span class='op'>(</span><span class='va'>df</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 50</div><div class='input'><span class='va'>df3</span><span class='op'>&lt;-</span><span class='va'>df</span> <span class='op'>%&gt;%</span> <span class='fu'>coord_uncertain</span><span class='op'>(</span>coorduncertainityLimit <span class='op'>=</span> <span class='fl'>20000</span>,ignore.na<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>NROW</a></span><span class='op'>(</span><span class='va'>df3</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 22</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <!-- begin footer -->
<div class="footer">
    <div class="container">
        <div class="row start bottom-8">
            <div class="col-xs-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg" /></div>
            <div class="col-xs-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="http://github.com/ropensci" target="_blank"><div class="icon fab fa-github"></div></a>
                        <a href="http://github.com/ropenscilabs" target="_blank"><div class="icon fa fa-flask"></div></a>
                        <a href="http://twitter.com/ropensci" target="_blank"><div class="icon fab fa-twitter"></div></a>
                        <a href="http://vimeo.com/ropensci" target="_blank"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
                            <h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review">Software Review Process</a></li>
                            <li><a href="https://ropensci.org/about#team">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate">Donate</a></li>
                            <li><a href="https://ropensci.org/contact">Contact Us</a></li>
                        </ul>
                    </div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
                            <h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct">Code of conduct</a></li>
                        </ul>
                    </div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
                            <h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/">Talks & Publications</a></li>
                            <li><a href="https://docs.ropensci.org/">Documentation</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/">Cite rOpenSci</a></li>
                        </ul>
                    </div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" target="_blank">NumFOCUS</a></p>
                        <a href="http://numfocus.org" target="_blank"></a>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '799829e946e1f0f9cd5b5a782c6316b9',
    indexName: 'ropensci-scrubr',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


